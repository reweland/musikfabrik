var site=function(e){var n=function(){e(".nav-main > li:has(ul)").addClass("has-children").children("a").on("click",(function(n){var a=e(this).parent();a.siblings().removeClass("selected"),a.addClass("selected"),e("#header").removeClass("nav-level-1"),e("#header").addClass("nav-level-2"),n.preventDefault()})),e(".nav-main li ul").prepend('<li class="level-2-back"><button class="btn-back"></button></li>');for(var n=0;n<e(".nav-main > li").length;n++){var a=e(".nav-main > li")[n];if(e(a).hasClass("has-children")){var l=e(".nav-main > li > a")[n];e(a).find(".btn-back").text(e(l).text())}}e(".nav-main .btn-back").click((function(n){e(".nav-main > li").removeClass("selected"),e("#header").addClass("nav-level-1"),e("#header").removeClass("nav-level-2"),n.preventDefault()})),e(".toggle-btn-burger").click((function(e){i(),e.preventDefault()})),e(document).on("keydown",(function(n){"Escape"==n.key&&e("html").hasClass("nav-main-open")&&i()}));var i=function(){e("html").toggleClass("nav-main-open"),e("html").hasClass("nav-main-open")||(e("#header").removeClass("nav-level-1 nav-level-2"),e(".nav-main > li").removeClass("selected"))};e(window).on("unload",(function(){e("html").removeClass("nav-main-open"),e("#header").removeClass("nav-level-1 nav-level-2"),e(".nav-main > li").removeClass("selected")}));var t,s,o,r=0;e(window).resize((function(){t=window.getComputedStyle(document.body),s=parseInt(t.getPropertyValue("--header-height"),10),o=parseInt(t.getPropertyValue("--center-top-padding"),10)})).resize(),e(window).scroll((function(){var n=e(window).scrollTop();e("html").toggleClass("sticky",n>=o-s),e("html").toggleClass("scrolling-up",n<r),e("html").toggleClass("scrolling-down",n>r),r=n})).scroll()},a=function(){e(".accordion .accordion-headline").append('<span class="accordion-toggle-btn"><svg viewBox="0 0 7 9" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><path d="M2.942 5.667V0h1.116v5.667C4.797 4.788 5.842 4.238 7 4.238v1.256c-1.622 0-2.942 1.487-2.942 3.314V9H2.942v-.192c0-1.827-1.32-3.314-2.942-3.314V4.238c1.158 0 2.203.55 2.942 1.429" fill="#ffbc00"/></svg></span>'),e(".accordion .accordion-headline").click((function(n){n.preventDefault(),e(this).closest(".accordion-panel").siblings(".open").addBack().toggleClass("open").children(".accordion-content").slideToggle(200,(function(){var n=e(this).closest(".accordion-panel");n.is(".open")&&e("body, html").animate({scrollTop:n.offset().top-(e("#header").height()+10)},300)}))}))},l=function(){e(".img-slider .swiper-container").each((function(){var n=e(this);if(n.find(".swiper-slide").length<2)n.closest(".artwork-slider").addClass("no-pagination");else new Swiper(this,{paginationClickable:!0,loop:!0,spaceBetween:0,speed:500,autoHeight:!0,grabCursor:!0,navigation:{nextEl:n.find(".swiper-button-next")[0],prevEl:n.find(".swiper-button-prev")[0]}})}))},i=function(){e(".borderless-img").wrap('<div class="borderless-img-wrapper"></div>')},t=function(){e("#header .nav-meta-search a").fancybox({type:"inline",smallBtn:!1,idleTime:!1,backFocus:!1})};return{init:function(){this,n(),a(),l(),i(),t()}}}(jQuery);jQuery(document).ready((function(){site.init()}));